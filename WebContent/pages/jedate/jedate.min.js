/**
 @Name : jeDate v2.8 日期控件
 @Author: chen guojun
 @Date: 2016-6-16
 @QQ群：516754269
 @官网：http://www.jayui.com/jedate/ 或 https://github.com/singod/jeDate
 */
!function(a,b){"function"==typeof define&&define.amd?define(["jeDate"],b):"object"==typeof exports?module.exports=b(require("jeDate")):a.jeDate=b(a.jeDate)}(this,function(a){var g,b={},c=document,d=["jedatebox"],e=/\w+|d+/g,f=function(){function a(l,m){var n,o,p,q,r,s;if(m=m||document,!/^[\w\-_#]+$/.test(l)&&m.querySelectorAll)return b(m.querySelectorAll(l));if(-1<l.indexOf(",")){for(n=l.split(/,/g),o=[],p=0,q=n.length;q>p;++p)o=o.concat(a(n[p],m));return k(o)}if(n=l.match(e),o=n.pop(),q=(o.match(g)||i)[1],r=!q&&(o.match(f)||i)[1],p=!q&&(o.match(h)||i)[1],o=l.match(/\[(?:[\w\-_][^=]+)=(?:[\'\[\]\w\-_]+)\]/g),r&&!o&&!p&&m.getElementsByClassName)p=b(m.getElementsByClassName(r));else{if(p=!q&&b(m.getElementsByTagName(p||"*")),r&&(p=d(p,"className",RegExp("(^|\\s)"+r+"(\\s|$)"))),q)return(n=m.getElementById(q))?[n]:[];if(o)for(q=0;q<o.length;q++)r=(o[q].match(j)||i)[1],s=(o[q].match(j)||i)[2],s=s.replace(/\'/g,"").replace(/\-/g,"\\-").replace(/\[/g,"\\[").replace(/\]/g,"\\]"),p=d(p,r,RegExp("(^"+s+"$)"))}return n[0]&&p[0]?c(n,p):p}function b(a){try{return Array.prototype.slice.call(a)}catch(b){for(var c=[],d=0,e=a.length;e>d;++d)c[d]=a[d];return c}}function c(a,b,d){var o,p,q,j,k,l,m,n,e=a.pop();if(">"===e)return c(a,b,!0);for(j=[],k=-1,l=(e.match(g)||i)[1],m=!l&&(e.match(f)||i)[1],e=!l&&(e.match(h)||i)[1],n=-1,e=e&&e.toLowerCase();o=b[++n];){p=o.parentNode;do if(q=(q=(q=!e||"*"===e||e===p.nodeName.toLowerCase())&&(!l||p.id===l))&&(!m||RegExp("(^|\\s)"+m+"(\\s|$)").test(p.className)),d||q)break;while(p=p.parentNode);q&&(j[++k]=o)}return a[0]&&j[0]?c(a,j):j}function d(a,b,c){for(var e,d=-1,f=-1,g=[];e=a[++d];)c.test(e.getAttribute(b))&&(g[++f]=e);return g}var e=/(?:[\*\w\-\\.#]+)+(?:\[(?:[\w\-_][^=]+)=(?:[\'\[\]\w\-_]+)\])*|\*|>/gi,f=/^(?:[\w\-_]+)?\.([\w\-_]+)/,g=/^(?:[\w\-_]+)?#([\w\-_]+)/,h=/^([\w\*\-_]+)/,i=[null,null,null],j=/\[([\w\-_][^=]+)=([\'\[\]\w\-_]+)\]/,k=function(){var a=+new Date,b=function(){var b=1;return function(c){var d=c[a],e=b++;return d?!1:(c[a]=e,!0)}}();return function(c){for(var h,d=c.length,e=[],f=-1,g=0;d>g;++g)h=c[g],b(h)&&(e[++f]=h);return a+=1,e}}();return a}();return b.each=function(a,b){for(var c=0,d=a.length;d>c&&b(c,a[c])!==!1;c++);},b.extend=function(a,b,c){void 0===c&&(c=!0);for(var d in b)!c&&d in a||(a[d]=b[d]);return a},b.trim=function(a){return a=a||"",a.replace(/^\s|\s$/g,"").replace(/\s+/g," ")},b.attr=function(a,b,c){return"string"==typeof b&&"undefined"==typeof c?a.getAttribute(b):(a.setAttribute(b,c),this)},b.stopmp=function(a){return a=a||window.event,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,this},b.hasClass=function(a,b){return a=a||{},new RegExp("\\b"+b+"\\b").test(a.className)},b.addClass=function(a,c){return a=a||{},b.hasClass(a,c)||(a.className+=" "+c),a.className=b.trim(a.className),this},b.removeClass=function(a,c){return a=a||{},b.hasClass(a,c)&&(a.className=a.className.replace(new RegExp("(\\s|^)"+c+"(\\s|$)"),"")),this},b.isShow=function(a,b){a.style.display=1!=b?"none":"block"},b.html=function(a,b){return"undefined"!=typeof b||void 0!==b&&1===a.nodeType?(a.innerHTML=b,this):a.innerHTML},b.text=function(a,b){if(void 0===b||1!==a.nodeType){var c=document.all?a.innerText:a.textContent;return c}return document.all?a.innerText=b:a.textContent=b,this},b.val=function(a,b){return void 0===b||1!==a.nodeType?a.value:(a.value=b,this)},b.bind=function(a,c,d){function e(a){a.attachEvent?a.attachEvent("on"+c,function(){d.call(a,window.type)}):a.addEventListener(c,d,!1)}return a==document?e(document):b.each(a,function(a,b){e(b)})},b.docScroll=function(a){return a=a?"scrollLeft":"scrollTop",c.body[a]|c.documentElement[a]},b.winarea=function(a){return c.documentElement[a?"clientWidth":"clientHeight"]},b.isType=function(a,b){return b=b.replace(/\b(\w)|\s(\w)/g,function(a){return a.toUpperCase()}),Object.prototype.toString.call(a)==="[object "+b+"]"},b.digit=function(a){return 10>a?"0"+(0|a):a},b.parse=function(a,c,d){a=a.concat(c);var d=d,e="hh:mm"==b.parseCheck(d,!1).substring(0,5),f=2;return d.replace(/YYYY|MM|DD|hh|mm|ss/g,function(){var g=e?++f:a.index=0|++a.index;return b.digit(a[g])})},b.parseCheck=function(a,b){var c=[];return a.replace(/YYYY|MM|DD|hh|mm|ss/g,function(a){c.push(a)}),c.join(1==b?"-":":")},b.parseMatch=function(a){var b=a.split(" ");return b[0].match(e)},b.nowDate=function(a,c){var d=new Date(0|a?function(a){return 864e5>a?+new Date+864e5*a:a}(parseInt(a)):+new Date);return b.parse([d.getFullYear(),d.getMonth()+1,d.getDate()],[d.getHours(),d.getMinutes(),d.getSeconds()],c)},b.montharr=[1,2,3,4,5,6,7,8,9,10,11,12],b.weeks=["日","一","二","三","四","五","六"],b.isValHtml=function(a){return/textarea|input/.test(a.tagName.toLocaleLowerCase())},b.festival=function(a,b){var c="";switch(a){case"01.01":c="元旦";break;case"02.14":c="情人";break;case"03.08":c="妇女";break;case"05.01":c="劳动";break;case"06.01":c="儿童";break;case"08.01":c="建军";break;case"09.10":c="教师";break;case"10.01":c="国庆";break;case"12.24":c="平安";break;case"12.25":c="圣诞";break;default:c=b}return c},g={format:"YYYY-MM-DD hh:mm:ss",minDate:"1900-01-01 00:00:00",maxDate:"2099-12-31 23:59:59"},b.index=Math.floor(9e3*Math.random()),b.initDate=function(a){var h,j,k,l,e=b.event;try{h=e.target||e.srcElement||{}}catch(i){h={}}j=function(b,e,g){if(!f("#"+e)[0]){var h=c.createElement("div");h.className=d[0],h.id=e,h.style.cssText="z-index:"+(1==g?"":a.zIndex||999)+";position:"+(1==g?"relative":"absolute")+";display:block;",b.appendChild(h)}},k=function(c){var d=b.nowDate(null,a.format||g.format);""==(b.val(c)||b.text(c))?b.isValHtml(c)?b.val(c,d):b.text(c,d):b.isValHtml(c)?b.val(c):b.text(c)},l=f(a.dateCell),a.isDisplay?b.each(l,function(c,d){b.addClass(d,"jedate"+(b.index+c)),j(f(a.displayCell)[c],"jedate"+(b.index+c),!0),b.setHtml(a,d,"#jedate"+(b.index+c)),a.isinitVal&&k(d)}):(a.isinitVal&&b.each(l,function(a,b){k(b)}),e&&h.tagName?(b.stopmp(e),j(c.body,d[0],!1),b.setHtml(a,l[0],"#"+d[0])):b.bind(l,"click",function(e){b.stopmp(e),j(c.body,d[0],!1),b.setHtml(a,this,"#"+d[0])}))},b.setHtml=function(a,c,d){var q,r,s,t,u,v,w,x,y,z,A,h="",i="",j=new Date,k=b.nowDate(null,a.format||g.format),l="YYYY-MM"==b.parseCheck(a.format||g.format,!0)?!0:!1,m="hh:mm"==b.parseCheck(a.format||g.format,!1).substring(0,5)?!0:!1,n=l?!1:!0,o=a.isTime,p=a.isinitVal?b.isValHtml(c)?b.val(c):b.text(c):""==(b.val(c)||b.text(c))?k:b.isValHtml(c)?b.val(c):b.text(c);if(""!=(b.val(c)||b.text(c))?(q=p.match(/\d+/g),r=b.parseCheck(a.format||g.format,!1),i="hh:mm"==r.substring(0,5)?"hh:mm"==r?[q[0],q[1],j.getSeconds()]:[q[0],q[1],q[2]]:[q[0],q[1],q[2],q[3],q[4],void 0==q[5]?j.getSeconds():q[5]]):i=[j.getFullYear(),j.getMonth()+1,j.getDate(),j.getHours(),j.getMinutes(),j.getSeconds()],s='<div class="jedatetop">'+(l?'<div class="jedateym" style="width:100%;"><i class="prev triangle ymprev"></i><span class="jedateyy"><em class="jedateyearmonth"></em></span><i class="next triangle ymnext"></i></div>':'<div class="jedateym" style="width:50%;"><i class="prev triangle yearprev"></i><span class="jedateyy" data-ym="24"><em class="jedateyear"></em><em class="pndrop"></em></span><i class="next triangle yearnext"></i></div><div class="jedateym" style="width:50%;"><i class="prev triangle monthprev"></i><span class="jedatemm" data-ym="12"><em class="jedatemonth"></em><em class="pndrop"></em></span><i class="next triangle monthnext"></i></div>')+"</div>",t=l?'<ul class="jedaym"></ul>':'<div class="jedatetopym" style="display: none;"><ul class="ymdropul"></ul><p><span class="jedateymchle">&#8592;</span><span class="jedateymchri">&#8594;</span><span class="jedateymchok">关闭</span></p></div>',u='<ol class="jedaol"></ol><ul class="jedaul"></ul>',v=l?'<div class="botflex jedatebtn"><span class="jedateok">确认</span><span class="jedatetodaymonth">本月</span><span class="jedateclear">清空</span></div>':'<div class="botflex jedatehmsshde"><ul class="jedatehms"><li><em></em><i>:</i></li><li><em></em><i>:</i></li><li><em></em></li></ul></div><div class="botflex jedatebtn"><span class="jedateok">确认</span><span class="jedatetodaymonth">今天</span><span class="jedateclear">清空</span></div>',w='<div class="jedatebot">'+v+"</div>",x='<div class="jedateprophms '+(m?"jedatepropfix":"jedateproppos")+'" prop="true"><div class="jedatepropcon"><div class="jedatehmstitle">时分秒选择<div class="jedatehmsclose">&times;</div></div><div class="jedateproptext">小时</div><div class="jedateproptext">分钟</div><div class="jedateproptext">秒数</div><div class="jedatehmscon jedateprophours"></div><div class="jedatehmscon jedatepropminutes"></div><div class="jedatehmscon jedatepropseconds"></div></div></div>',y=l?s+t+w:m?s+x+w:s+t+u+x+w,b.html(f(d)[0],y),b.each(f(d+" .jedatebot .jedateclear"),function(c,d){a.isClear?b.isShow(d,!1):""}),n?(z=function(a){var e=""!=b.val(c)||""!=b.text(c)?a?[i[0],i[1],i[2]]:[i[3],i[4],i[5]]:[j.getHours(),j.getMinutes(),j.getSeconds()];b.each(f(d+" .jedatebot .jedatehms em"),function(a,c){b.html(c,b.digit(e[a]))})},m?z(!0):o?z(!1):(b.isShow(f(d+" .jedatebot .jedatehmsshde")[0],!1),f(d+" .jedatebot .jedatebtn")[0].style.width="100%")):(l||b.isShow(f(d+" .jedatebot .jedatehmsshde")[0],!1),f(d+" .jedatebot .jedatebtn")[0].style.width="100%"),l)b.html(f(d+" .jedaym")[0],b.onlyYMStr(a,i[0],i[1])),b.text(f(d+" .jedateym .jedateyearmonth")[0],i[0]+"年"+b.digit(i[1])+"月"),b.onlyYMevents(a,c,d,i);else{for(A=0;A<b.weeks.length;A++)h+='<li class="weeks" data-week="'+b.weeks[A]+'">'+b.weeks[A]+"</li>";b.each(f(d+" .jedaol"),function(a,c){b.html(c,h)}),m?b.getDateStr(a,d,j.getFullYear(),j.getMonth()+1,j.getDate()):b.getDateStr(a,d,i[0],i[1],i[2]),b.chooseYM(a,c,d,i)}a.isDisplay||b.orien(f(d)[0],c),b.events(a,c,d,i)},b.onlyYMStr=function(a,c,d){var e="";return b.each(b.montharr,function(f,h){var i=b.parseMatch(a.minDate||g.minDate),j=b.parseMatch(a.maxDate||g.maxDate),k=new Date(c,b.digit(h),"01"),l=new Date(i[0],i[1],i[2]),m=new Date(j[0],j[1],j[2]);e+=l>k||k>m?"<li class='disabled' "+(d==h?'class="action"':"")+' data-onym="'+c+"-"+b.digit(h)+'">'+c+"年"+b.digit(h)+"月</li>":"<li "+(d==h?'class="action"':"")+' data-onym="'+c+"-"+b.digit(h)+'">'+c+"年"+b.digit(h)+"月</li>"}),e},b.onlyYMevents=function(a,c,d,e){var g=f(d+" .jedateym .ymprev"),h=f(d+" .jedateym .ymnext"),i=parseInt(e[0]),j=parseFloat(e[1]);b.each([g,h],function(h,k){b.bind(k,"click",function(h){if(!b.hasClass(k,"disabled")){b.stopmp(h);var l=k==g?i-=1:i+=1;b.html(f(d+" .jedaym")[0],b.onlyYMStr(a,l,j)),b.events(a,c,d,e)}})})},b.orien=function(a,c,d){var e,g=c.getBoundingClientRect();leris=g.right+a.offsetWidth/1.5>=b.winarea(1)?g.right-a.offsetWidth:g.left+(d?0:b.docScroll(1)),e=g.bottom+a.offsetHeight/1.5<=b.winarea()?g.bottom-1:g.top>a.offsetHeight/1.5?g.top-a.offsetHeight+1:b.winarea()-a.offsetHeight,a.style.left=leris+"px",a.style.top=Math.max(e+(d?0:b.docScroll())+1,1)+"px"},b.getDateStr=function(a,c,d,e,h){function m(c,d,e){var f=a.marks,g=function(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1};return b.isType(f,"array")&&f.length>0&&g(f,c+"-"+d+"-"+e)?'<i class="marks"></i>':""}function Z(a,b){var c=0==a%4&&0!=a%100||0==a%400?29:28;return[31,c,31,30,31,30,31,31,30,31,30,31][b-1]}function $(a,b){return parseInt(new Date(a,b-1,0).getDate())}var j,n,p,q,r,s,u,v,w,x,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,S,T,U,V,W,X,Y,i="";for(e=b.digit(e),j=new Date,j.getFullYear(),j.getMonth()+1,n=function(c,d){return a.festival?b.festival(c,d):d},Z(d,e),p=new Date(d,parseInt(e)-1,1).getDay(),q=0!=p?p:p+7,r=$(d,e),s=$(d,parseInt(e)+1),u=1,v=b.parseMatch(a.minDate||g.minDate),w=b.parseMatch(a.maxDate||g.maxDate),x=s,new Date(d,e,h),z=new Date(d,e,1),A=new Date(d,e,s),B=new Date(v[0],v[1],v[2]),C=new Date(w[0],w[1],w[2]),D=B.getDate(),B>A?u=parseInt(s)+1:B>=z&&A>=B&&(u=D),C&&(E=C.getDate(),z>C?x=0:C>=z&&A>=C&&(x=E)),F=q-1;F>=0;F--)J=b.digit(r-F),1==e?(G=parseInt(d)-1,H=13):(G=d,H=e),K=parseInt(G.toString()+b.digit(parseInt(H)-1).toString()+J.toString()),L=parseInt(v[0].toString()+b.digit(v[1]).toString()+b.digit(v[2]).toString()),M=parseInt(w[0].toString()+b.digit(w[1]).toString()+b.digit(w[2]).toString()),I=K>=L&&M>=K?"prevdate":"disabled",i+="<li class='"+I+"' data-y='"+G+"' data-m='"+b.digit(parseInt(H)-1)+"' data-d='"+J+"'>"+n(b.digit(parseInt(H)-1)+"."+J,J)+m(G,parseInt(H)-1,J)+"</li>";for(N=1;u>N;N++)N=b.digit(N),i+='<li class="disabled" data-y="'+d+'" data-m="'+e+'" data-d="'+N+'">'+n(e+"."+N,N)+m(d,e,N)+"</li>";for(O=u;x>=O;O++)O=b.digit(O),P=h==O?"action":"",i+='<li class="'+P+'" data-y="'+d+'" data-m="'+e+'" data-d="'+O+'">'+n(e+"."+O,O)+m(d,e,O)+"</li>";for(Q=x+1;s>=Q;Q++)Q=b.digit(Q),i+='<li class="disabled" data-y="'+d+'" data-m="'+e+'" data-d="'+Q+'">'+n(e+"."+Q,Q)+m(d,e,Q)+"</li>";for(S=42-q-Z(d,e),T=1;S>=T;T++)T=b.digit(T),e>=12?(U=parseInt(d)+1,V=0):(U=d,V=e),X=parseInt(U.toString()+b.digit(parseInt(V)+1).toString()+b.digit(T).toString()),Y=parseInt(v[0].toString()+b.digit(v[1]).toString()+b.digit(v[2]).toString()),M=parseInt(w[0].toString()+b.digit(w[1]).toString()+b.digit(w[2]).toString()),W=M>=X&&X>=Y?"nextdate":W="disabled",i+="<li class='"+W+"' data-y='"+U+"' data-m='"+b.digit(parseInt(V)+1)+"' data-d='"+T+"'>"+n(b.digit(parseInt(V)+1)+"."+T,T)+m(U,parseInt(V)+1,T)+"</li>";b.each(f(c+" .jedateyear"),function(a,c){b.text(c,d+"年").attr(c,"data-year",d)}),b.each(f(c+" .jedatemonth"),function(a,c){b.text(c,e+"月").attr(c,"data-month",e)}),b.each(f(c+" .jedaul"),function(a,c){b.html(c,i)}),b.each(f(c+" .monthprev"),function(a,c){b.attr(c,"data-y",b.digit(parseInt(e)-1))}),b.each(f(c+" .monthnext"),function(a,c){b.attr(c,"data-y",b.digit(parseInt(e)+1))})},b.getStrhms=function(a,c,d){var h;return d=[],h=function(a){var b=a.match(e).join("-"),c=a.split(" "),d="YYYY-MM-DD-hh-mm"==b?c[1]:c[0];return d.match(e).join(":")},b.each([24,60,60],function(e,i){var n,j="",k="",l=b.text(f(c+" .jedatehms em")[e]),m=h(a.format||g.format);for(n=0;i>n;n++)n=b.digit(n),k=a.ishmsLimit?l>n?"disabled":n==l?"action":"":"hh:mm"==m&&2==e?l==n?"disabled action":"disabled":l==n?"action":"",j+='<p class="'+k+'">'+n+"</p>";d.push(j)}),d},b.dateClose=function(a,b){a.isDisplay||c.body.removeChild(f(b)[0])},b.events=function(a,e,h,i){var s,t,u,v,w,x,j=new Date,k=f(h+" .yearprev"),l=f(h+" .yearnext"),m=f(h+" .monthprev"),n=f(h+" .monthnext"),o=f(h+" .jedateyear"),p=f(h+" .jedatemonth"),q="YYYY-MM"==b.parseCheck(a.format||g.format,!0)?!0:!1,r="hh:mm"==b.parseCheck(a.format||g.format,!1).substring(0,5)?!0:!1;q?(x=a.isDisplay?f("body "+h.replace(/\#/g,"."))[0]:e,b.bind(f(h+" .jedaym li"),"click",function(c){var e,f,d=this;b.hasClass(d,"disabled")||(b.stopmp(c),e=b.attr(this,"data-onym").match(/\w+|d+/g),f=b.parse([e[0],e[1],1],[0,0,0],a.format||g.format),b.isValHtml(x)?b.val(x,f):b.text(x,f),b.dateClose(a,h),(b.isType(a.choosefun,"function")||null!=a.choosefun)&&a.choosefun(f))}),b.bind(f(h+" .jedatebot .jedatetodaymonth"),"click",function(){var c=[j.getFullYear(),j.getMonth()+1,j.getDate()],d=b.parse([c[0],c[1],0],[0,0,0],a.format||g.format);b.isValHtml(x)?b.val(x,d):b.text(x,d),b.dateClose(a,h),(b.isType(a.choosefun,"function")||null!=a.choosefun)&&a.choosefun(d),b.initDate(a)})):(!r&&b.each([k,l],function(c,d){b.bind(d,"click",function(c){var f,g,l;b.stopmp(c),f=parseInt(b.attr(o[0],"data-year")),g=parseInt(b.attr(p[0],"data-month")),d==k?f-=1:f+=1,l=j.toLocaleDateString()==f+"/"+g+"/"+j.getDate()?i[2]:1,b.getDateStr(a,h,f,g,l),b.chooseDays(a,e,h)})}),!r&&b.each([m,n],function(c,d){b.bind(d,"click",function(c){var f,g,k;b.stopmp(c),f=parseInt(b.attr(o[0],"data-year")),g=parseInt(b.attr(p[0],"data-month")),d==m?1==g?(f-=1,g=12):g-=1:12==g?(f+=1,g=1):g+=1,k=j.toLocaleDateString()==f+"/"+g+"/"+j.getDate()?i[2]:1,b.getDateStr(a,h,f,g,k),b.chooseDays(a,e,h)})}),s=b.getStrhms(a,h),t=function(a){b.each(a,function(a,c){""==b.html(c[0])&&b.html(c[0],s[a])}),r?(b.isShow(f(h+" .jedatehmsclose")[0],!1),b.isShow(f(h+" .jedatetodaymonth")[0],!1)):b.isShow(f(h+" .jedateprophms")[0],!0),b.each(["hours","minutes","seconds"],function(a,c){var g,d=f(h+" .jedateprop"+c),e=f(h+" .jedateprop"+c+" .action");d[0].scrollTop=e[0].offsetTop-157,g=f(h+" .jedateprop"+c+" p"),b.bind(g,"click",function(){var d,c=this;if(!b.hasClass(c,"disabled")){for(d=0;d<g.length;d++)b.removeClass(g[d],"action");b.addClass(c,"action"),b.html(f(h+" .jedatebot .jedatehms em")[a],b.digit(b.text(c))),r||b.isShow(f(h+" .jedateprophms")[0],!1)}})})},u=f(h+" .jedateprophours"),v=f(h+" .jedatepropminutes"),w=f(h+" .jedatepropseconds"),r?t([u,v,w]):b.bind(f(h+" .jedatehms"),"click",function(){"block"!==f(h+" .jedateprophms")[0].style.display&&t([u,v,w]),b.bind(f(h+" .jedateprophms .jedatehmsclose"),"click",function(){b.isShow(f(h+" .jedateprophms")[0],!1)})}),b.bind(f(h+" .jedatebot .jedatetodaymonth"),"click",function(){var c=[j.getFullYear(),j.getMonth()+1,j.getDate(),j.getHours(),j.getMinutes(),j.getSeconds()],d=b.parse([c[0],c[1],c[2]],[c[3],c[4],c[5]],a.format||g.format),i=a.isDisplay?f("body "+h.replace(/\#/g,"."))[0]:e;b.getDateStr(a,h,c[0],c[1],c[2]),b.isValHtml(i)?b.val(i,d):b.text(i,d),b.dateClose(a,h),(b.isType(a.choosefun,"function")||null!=a.choosefun)&&a.choosefun(d),q||b.chooseDays(a,e,h)})),b.bind(f(h+" .jedatebot .jedateclear"),"click",function(){var c=a.isDisplay?f("body "+h.replace(/\#/g,"."))[0]:e,d=b.isValHtml(c)?b.val(c):b.text(c);b.isValHtml(c)?b.val(c,""):b.text(c,""),b.dateClose(a,h),""!=d&&(b.isType(a.clearfun,"function")||null!=a.clearfun)&&a.clearfun(d)}),b.bind(f(h+" .jedatebot .jedateok"),"click",function(c){var d,k,l,m,s,t,u,v,w,x,y,z;b.stopmp(c),d=a.isDisplay?f("body "+h.replace(/\#/g,"."))[0]:e,k=""!=(b.val(d)||b.text(d)),l=function(a){b.each(f(h+" .jedatehms em"),function(c,d){a.push(b.text(d))})},k?(m=q?f(h+" .jedaym li"):f(h+" .jedaul li"),b.nowDate(null,a.format||g.format),s=b.isValHtml(d)?b.val(d):b.text(d),t=s.match(/\w+|d+/g),q?(x=k?b.attr(f(h+" .jedaym .action")[0],"data-onym").match(/\w+|d+/g):"",w=k?b.parse([x[0],x[1],1],[0,0,0],a.format||g.format):""):(u=[],v=[parseInt(b.attr(o[0],"data-year")),parseInt(b.attr(p[0],"data-month")),t[2]],l(u),w=k?b.parse([v[0],v[1],v[2]],[u[0],u[1],u[2]],a.format||g.format):"",b.getDateStr(a,h,v[0],v[1],v[2])),r?b.isValHtml(d)?b.val(d,w):b.text(d,w):b.each(m,function(a,c){"action"==b.attr(c,"class")&&(b.isValHtml(d)?b.val(d,w):b.text(d,w))}),b.dateClose(a,h),""!=w&&(b.isType(a.okfun,"function")||null!=a.okfun)&&a.okfun(w),q||b.chooseDays(a,e,h)):(y=[],w="",l(y),r?w=b.parse([i[0],i[1],i[2]],[y[0],y[1],y[2]],a.format||g.format):(z=[j.getFullYear(),j.getMonth()+1,j.getDate(),y[0],y[1],y[2]],w=b.parse([z[0],z[1],z[2]],[z[3],z[4],z[5]],a.format||g.format)),b.isValHtml(d)?b.val(d,w):b.text(d,w),b.dateClose(a,h))}),a.isDisplay||(b.bind(document,"mouseup",function(a){b.stopmp(a);var e=f("#"+d[0])[0];e&&"none"!==e.style.display&&c.body.removeChild(f(h)[0])}),b.bind(f("#"+d[0]),"mouseup",function(a){b.stopmp(a)})),q||!r&&b.chooseDays(a,e,h)},b.chooseYM=function(a,c,d,e){function p(a){var c="";return b.each(new Array(15),function(d){if(7===d){var e=b.attr(k[0],"data-year");c+="<li "+(e==a?'class="action"':"")+' data-y="'+a+'">'+a+"年</li>"}else c+='<li data-y="'+(a-7+d)+'">'+(a-7+d)+"年</li>"}),c}function q(a,c){var e="";12==c?(b.each(b.montharr,function(a,c){var d=b.attr(l[0],"data-month"),c=b.digit(c);e+="<li "+(d==c?'class="action"':"")+' data-m="'+c+'">'+c+"月</li>"}),b.each([m,n],function(a,c){b.isShow(c[0],!1)})):(e=p(a),b.each([m,n],function(a,c){b.isShow(c[0],!0)})),b.removeClass(h[0],12==c?"jedatesety":"jedatesetm").addClass(h[0],12==c?"jedatesetm":"jedatesety"),b.html(f(d+" .jedatetopym .ymdropul")[0],e),b.isShow(h[0],!0)}function r(g){b.bind(f(d+" .ymdropul li"),"click",function(){var i=b.attr(this,"data-y"),j=b.attr(l[0],"data-month");b.attr(g,"data-year",i),b.html(g,i),b.isShow(h[0],!1),b.getDateStr(a,d,i,j,e[2]),b.chooseDays(a,c,d)})}var s,h=f(d+" .jedatetopym"),i=f(d+" .jedateyy"),j=f(d+" .jedatemm"),k=f(d+" .jedateyy .jedateyear"),l=f(d+" .jedatemm .jedatemonth"),m=f(d+" .jedateymchri"),n=f(d+" .jedateymchle"),o="hh:mm"==b.parseCheck(a.format||g.format,!1).substring(0,5)?!0:!1;!o&&b.bind(i,"click",function(){var a=parseInt(b.attr(this,"data-ym")),c=parseInt(b.attr(k[0],"data-year"));q(c,a),r(k[0])}),!o&&b.bind(j,"click",function(){var g=parseInt(b.attr(this,"data-ym")),i=parseInt(b.attr(k[0],"data-year"));q(i,g),b.bind(f(d+" .ymdropul li"),"click",function(){var g=b.attr(k[0],"data-year"),i=b.attr(this,"data-m");b.attr(l[0],"data-month",i),b.html(l[0],i),b.isShow(h[0],!1),b.getDateStr(a,d,g,i,e[2]),b.chooseDays(a,c,d)})}),b.bind(f(d+" .jedateymchok"),"click",function(a){b.stopmp(a),b.isShow(h[0],!1)}),s=parseInt(b.attr(k[0],"data-year")),b.each([n,m],function(a,c){b.bind(c,"click",function(c){b.stopmp(c),0==a?s-=15:s+=15;var e=p(s);b.html(f(d+" .jedatetopym .ymdropul")[0],e),r(k[0])})})},b.chooseDays=function(a,c,d){b.bind(f(d+" .jedaul li"),"click",function(e){var k,l,m,n,h=this,i=[],j=a.isDisplay?f("body "+d.replace(/\#/g,"."))[0]:c;b.hasClass(h,"disabled")||(b.stopmp(e),b.each(f(d+" .jedatehms em"),function(a,c){i.push(b.text(c))}),k=parseInt(b.attr(h,"data-y")),l=parseFloat(b.attr(h,"data-m")),m=parseFloat(b.attr(h,"data-d")),n=b.parse([k,l,m],[i[0],i[1],i[2]],a.format||g.format),b.getDateStr(a,d,k,l,m),b.isValHtml(j)?b.val(j,n):b.text(j,n),b.dateClose(a,d),(b.isType(a.choosefun,"function")||null!=a.choosefun)&&a.choosefun(n),b.chooseDays(a,c,d))})},a=function(c){try{b.event=window.event?window.event:a.caller.arguments[0]}catch(d){}return new b.initDate(c||{})},a.version="2.8",a.now=function(a){function e(a){var b=new Date(1e3*a);return b.getFullYear()+"-"+d(b.getMonth()+1,2)+"-"+d(b.getDate(),2)+" "+d(b.getHours(),2)+":"+d(b.getMinutes(),2)+":"+d(b.getSeconds(),2)}var b=new Date(0|a?function(a){return 864e5>a?+new Date+864e5*a:a}(parseInt(a)):+new Date),c=new Date,d=function(a,b){var c="00"+a.toString();return c.substr(c.length-b)},f=b.getFullYear(),g=b.getMonth()+1,h=b.getDate(),i="string"==typeof a?e(a):f+"-"+d(g,2)+"-"+d(h,2)+" "+c.getHours()+":"+c.getMinutes()+":"+c.getSeconds();return i},a});